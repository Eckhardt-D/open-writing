import{a,b as s,c as e,d as r,e as o,f as n,g as c,h as l,i,j as t,B as d,k as u,l as h,m as p,s as m,C as g,n as f,D as v}from"./chunk.1645593f.js";function E(a){var s,e,m,g,f,v;return{c(){s=r("div"),e=r("label"),m=o("Re-enter your password"),g=n(),f=r("input"),this.h()},l(a){s=c(a,"DIV",{class:!0},!1);var r=l(s);e=c(r,"LABEL",{for:!0},!1);var o=l(e);m=i(o,"Re-enter your password"),o.forEach(t),g=i(r,"\n          "),f=c(r,"INPUT",{id:!0,type:!0,class:!0,required:!0},!1),l(f).forEach(t),r.forEach(t),this.h()},h(){e.htmlFor="password2",f.id="password2",d(f,"type","password"),f.className="form-control",f.required=!0,s.className="form-group",v=u(f,"input",a.input_input_handler)},m(r,o){h(r,s,o),p(s,e),p(e,m),p(s,g),p(s,f),f.value=a.password2},p(a,s){a.password2&&(f.value=s.password2)},d(a){a&&t(s),v()}}}function w(a){var s,e,d,g,f,v,E,w,M;return{c(){s=r("div"),e=r("button"),d=o("×"),g=n(),f=r("strong"),v=o("Error!"),E=n(),w=o(a.errorMessage),this.h()},l(r){s=c(r,"DIV",{class:!0},!1);var o=l(s);e=c(o,"BUTTON",{type:!0,class:!0},!1);var n=l(e);d=i(n,"×"),n.forEach(t),g=i(o,"\n          "),f=c(o,"STRONG",{},!1);var u=l(f);v=i(u,"Error!"),u.forEach(t),E=i(o,"\n           "),w=i(o,a.errorMessage),o.forEach(t),this.h()},h(){e.type="button",e.className="close",s.className="alert alert-dismissible alert-danger",M=u(e,"click",a.click_handler)},m(a,r){h(a,s,r),p(s,e),p(e,d),p(s,g),p(s,f),p(f,v),p(s,E),p(s,w)},p(a,s){a.errorMessage&&m(w,s.errorMessage)},d(a){a&&t(s),M()}}}function M(a){var s,e,d,g,f,v,E,w,M;return{c(){s=r("div"),e=r("button"),d=o("×"),g=n(),f=r("strong"),v=o("Success!"),E=n(),w=o(a.successMessage),this.h()},l(r){s=c(r,"DIV",{class:!0},!1);var o=l(s);e=c(o,"BUTTON",{type:!0,class:!0},!1);var n=l(e);d=i(n,"×"),n.forEach(t),g=i(o,"\n          "),f=c(o,"STRONG",{},!1);var u=l(f);v=i(u,"Success!"),u.forEach(t),E=i(o,"\n           "),w=i(o,a.successMessage),o.forEach(t),this.h()},h(){e.type="button",e.className="close",s.className="alert alert-dismissible alert-success",M=u(e,"click",a.click_handler_1)},m(a,r){h(a,s,r),p(s,e),p(e,d),p(s,g),p(s,f),p(f,v),p(s,E),p(s,w)},p(a,s){a.successMessage&&m(w,s.successMessage)},d(a){a&&t(s),M()}}}function N(a){var s,e,N,b,y,_,k,S,T,L,U,I,D,V,A,B,O,P,q,x,G,W,R,C,F,H,j,Y,$,z,J,K,Q,X,Z,aa,sa,ea,ra=a.loginMode?"Login to your account":"Create an account",oa=a.loginMode?"Login":"Sign Up",na=a.loginMode?"Don't have an account?":"Already have an account?",ca=a.loginMode?"Sign up":"Login",la=!a.loginMode&&E(a),ia=a.showError&&w(a),ta=a.showSuccess&&M(a);return{c(){s=r("div"),e=r("div"),N=r("h5"),b=o(ra),y=n(),_=r("div"),k=r("form"),S=r("div"),T=r("label"),L=o("E-mail address"),U=n(),I=r("input"),D=n(),V=r("div"),A=r("label"),B=o("Password"),O=n(),P=r("input"),q=n(),la&&la.c(),x=n(),G=r("div"),W=r("button"),R=o(oa),C=n(),ia&&ia.c(),F=n(),ta&&ta.c(),H=n(),j=r("button"),Y=o("GitHub"),$=n(),z=r("button"),J=o("Google"),K=n(),Q=r("small"),X=o(na),Z=n(),aa=r("span"),sa=o(ca),this.h()},l(a){s=c(a,"DIV",{class:!0,style:!0},!1);var r=l(s);e=c(r,"DIV",{class:!0},!1);var o=l(e);N=c(o,"H5",{class:!0},!1);var n=l(N);b=i(n,ra),n.forEach(t),o.forEach(t),y=i(r,"\n  "),_=c(r,"DIV",{class:!0},!1);var d=l(_);k=c(d,"FORM",{},!1);var u=l(k);S=c(u,"DIV",{class:!0},!1);var h=l(S);T=c(h,"LABEL",{for:!0},!1);var p=l(T);L=i(p,"E-mail address"),p.forEach(t),U=i(h,"\n        "),I=c(h,"INPUT",{id:!0,type:!0,class:!0,required:!0},!1),l(I).forEach(t),h.forEach(t),D=i(u,"\n      "),V=c(u,"DIV",{class:!0},!1);var m=l(V);A=c(m,"LABEL",{for:!0},!1);var g=l(A);B=i(g,"Password"),g.forEach(t),O=i(m,"\n        "),P=c(m,"INPUT",{id:!0,type:!0,class:!0,required:!0},!1),l(P).forEach(t),m.forEach(t),q=i(u,"\n      "),la&&la.l(u),x=i(u,"\n      "),G=c(u,"DIV",{class:!0},!1);var f=l(G);W=c(f,"BUTTON",{type:!0,class:!0},!1);var v=l(W);R=i(v,oa),v.forEach(t),f.forEach(t),C=i(u,"\n      "),ia&&ia.l(u),F=i(u,"\n      "),ta&&ta.l(u),H=i(u,"\n      "),j=c(u,"BUTTON",{class:!0},!1);var E=l(j);Y=i(E,"GitHub"),E.forEach(t),$=i(u,"\n      "),z=c(u,"BUTTON",{class:!0},!1);var w=l(z);J=i(w,"Google"),w.forEach(t),K=i(u,"\n      "),Q=c(u,"SMALL",{class:!0},!1);var M=l(Q);X=i(M,na),Z=i(M,"\n        "),aa=c(M,"SPAN",{class:!0},!1);var ea=l(aa);sa=i(ea,ca),ea.forEach(t),M.forEach(t),u.forEach(t),d.forEach(t),r.forEach(t),this.h()},h(){N.className="mb-0",e.className="card-header",T.htmlFor="email",I.id="email",d(I,"type","email"),I.className="form-control",I.required=!0,S.className="form-group",A.htmlFor="password",P.id="password",d(P,"type","password"),P.className="form-control",P.required=!0,V.className="form-group",W.type="button",W.className="btn btn-primary",G.className="form-group",j.className="btn btn-secondary w-100",z.className="btn btn-secondary w-100 mt-1",aa.className="btn btn-link pl-0",Q.className="text-muted",_.className="card-body",s.className="card border-light mx-auto",g(s,"max-width","25rem"),ea=[u(I,"input",a.input0_input_handler),u(P,"input",a.input1_input_handler),u(W,"click",a.loginMode?a.loginWithEmail:a.signUpWithEmail),u(aa,"click",a.changeMode)]},m(r,o){h(r,s,o),p(s,e),p(e,N),p(N,b),p(s,y),p(s,_),p(_,k),p(k,S),p(S,T),p(T,L),p(S,U),p(S,I),I.value=a.email,p(k,D),p(k,V),p(V,A),p(A,B),p(V,O),p(V,P),P.value=a.password,p(k,q),la&&la.m(k,null),p(k,x),p(k,G),p(G,W),p(W,R),p(k,C),ia&&ia.m(k,null),p(k,F),ta&&ta.m(k,null),p(k,H),p(k,j),p(j,Y),p(k,$),p(k,z),p(z,J),p(k,K),p(k,Q),p(Q,X),p(Q,Z),p(Q,aa),p(aa,sa)},p(a,s){a.loginMode&&ra!==(ra=s.loginMode?"Login to your account":"Create an account")&&m(b,ra),a.email&&(I.value=s.email),a.password&&(P.value=s.password),s.loginMode?la&&(la.d(1),la=null):la?la.p(a,s):((la=E(s)).c(),la.m(k,x)),a.loginMode&&oa!==(oa=s.loginMode?"Login":"Sign Up")&&m(R,oa),s.showError?ia?ia.p(a,s):((ia=w(s)).c(),ia.m(k,F)):ia&&(ia.d(1),ia=null),s.showSuccess?ta?ta.p(a,s):((ta=M(s)).c(),ta.m(k,H)):ta&&(ta.d(1),ta=null),a.loginMode&&na!==(na=s.loginMode?"Don't have an account?":"Already have an account?")&&m(X,na),a.loginMode&&ca!==(ca=s.loginMode?"Sign up":"Login")&&m(sa,ca)},i:f,o:f,d(a){a&&t(s),la&&la.d(),ia&&ia.d(),ta&&ta.d(),v(ea)}}}function b(a,s,e){let r="",o="",n="",c=!1,l="",i=!1,t="",d=a=>{e("showError",c=!0),e("errorMessage",l=a)},{loginMode:u}=s;return a.$set=(a=>{"loginMode"in a&&e("loginMode",u=a.loginMode)}),{email:r,password:o,password2:n,showError:c,errorMessage:l,showSuccess:i,successMessage:t,changeMode:()=>{const a=u=!u;return e("loginMode",u),a},signUpWithEmail:function(){authentication.createUserWithEmailAndPassword(r,o).then(()=>{authentication.currentUser.sendEmailVerification({url:"https://open-writing.firebaseapp.com/auth/login",handleCodeInApp:!1}).then(()=>{e("email",r=""),e("password",o=""),e("password2",n=""),e("showSuccess",i=!0),e("successMessage",t="We have sent a confirmation email")}).catch(a=>{e("showError",c=!0),e("errorMessage",l="Error sending email verification")})}).catch(a=>{switch(a.code){case"auth/email-already-in-use":d("Email already exists");break;case"auth/invalid-email":d("Not a valid email address");break;case"auth/weak-password":d("Your password is too weak.");break;default:d("Something went wrong")}})},loginWithEmail:function(){console.log("login in")},loginMode:u,input0_input_handler:function(){r=this.value,e("email",r)},input1_input_handler:function(){o=this.value,e("password",o)},input_input_handler:function(){n=this.value,e("password2",n)},click_handler:function(){const a=c=!1;return e("showError",c),a},click_handler_1:function(){const a=i=!1;return e("showSuccess",i),a}}}class y extends a{constructor(a){super(),s(this,a,b,N,e,["loginMode"])}}export{y as a};
//# sourceMappingURL=chunk.cbbb6c95.js.map
