import{b as a,c as s,d as n,e as o,f as r,g as e,h as c,i,j as t,k as l,l as u,m as d,n as h,o as f,p,H as m,q as g,r as v,s as E,y as w,I as M,t as b,J as N}from"./chunk.8bdee4aa.js";function y(a){var s,n,o,r,e,c;return{c:function(){s=t("div"),n=t("label"),o=l("Re-enter your password"),r=u(),e=t("input"),this.h()},l:function(a){s=d(a,"DIV",{class:!0},!1);var c=h(s);n=d(c,"LABEL",{for:!0},!1);var i=h(n);o=f(i,"Re-enter your password"),i.forEach(p),r=f(c,"\n          "),e=d(c,"INPUT",{id:!0,type:!0,class:!0,required:!0},!1),h(e).forEach(p),c.forEach(p),this.h()},h:function(){n.htmlFor="password2",e.id="password2",m(e,"type","password"),e.className="form-control",e.required=!0,s.className="form-group",c=g(e,"input",a.input_input_handler)},m:function(c,i){v(c,s,i),E(s,n),E(n,o),E(s,r),E(s,e),e.value=a.password2},p:function(a,s){a.password2&&(e.value=s.password2)},d:function(a){a&&p(s),c()}}}function _(a){var s,n,o,r,e,c,i,m,M;return{c:function(){s=t("div"),n=t("button"),o=l("×"),r=u(),e=t("strong"),c=l("Error!"),i=u(),m=l(a.errorMessage),this.h()},l:function(t){s=d(t,"DIV",{class:!0},!1);var l=h(s);n=d(l,"BUTTON",{type:!0,class:!0},!1);var u=h(n);o=f(u,"×"),u.forEach(p),r=f(l,"\n          "),e=d(l,"STRONG",{},!1);var g=h(e);c=f(g,"Error!"),g.forEach(p),i=f(l,"\n           "),m=f(l,a.errorMessage),l.forEach(p),this.h()},h:function(){n.type="button",n.className="close",s.className="alert alert-dismissible alert-danger",M=g(n,"click",a.click_handler)},m:function(a,t){v(a,s,t),E(s,n),E(n,o),E(s,r),E(s,e),E(e,c),E(s,i),E(s,m)},p:function(a,s){a.errorMessage&&w(m,s.errorMessage)},d:function(a){a&&p(s),M()}}}function k(a){var s,n,o,r,e,c,i,m,M;return{c:function(){s=t("div"),n=t("button"),o=l("×"),r=u(),e=t("strong"),c=l("Success!"),i=u(),m=l(a.successMessage),this.h()},l:function(t){s=d(t,"DIV",{class:!0},!1);var l=h(s);n=d(l,"BUTTON",{type:!0,class:!0},!1);var u=h(n);o=f(u,"×"),u.forEach(p),r=f(l,"\n          "),e=d(l,"STRONG",{},!1);var g=h(e);c=f(g,"Success!"),g.forEach(p),i=f(l,"\n           "),m=f(l,a.successMessage),l.forEach(p),this.h()},h:function(){n.type="button",n.className="close",s.className="alert alert-dismissible alert-success",M=g(n,"click",a.click_handler_1)},m:function(a,t){v(a,s,t),E(s,n),E(n,o),E(s,r),E(s,e),E(e,c),E(s,i),E(s,m)},p:function(a,s){a.successMessage&&w(m,s.successMessage)},d:function(a){a&&p(s),M()}}}function S(a){var s,n,o,r,e,c,i,S,T,I,L,U,D,V,A,B,O,q,P,G,W,x,R,F,H,C,j,J,Y,$,z,K,Q,X,Z,aa,sa,na,oa=a.loginMode?"Login to your account":"Create an account",ra=a.loginMode?"Login":"Sign Up",ea=a.loginMode?"Don't have an account?":"Already have an account?",ca=a.loginMode?"Sign up":"Login",ia=!a.loginMode&&y(a),ta=a.showError&&_(a),la=a.showSuccess&&k(a);return{c:function(){s=t("div"),n=t("div"),o=t("h5"),r=l(oa),e=u(),c=t("div"),i=t("form"),S=t("div"),T=t("label"),I=l("E-mail address"),L=u(),U=t("input"),D=u(),V=t("div"),A=t("label"),B=l("Password"),O=u(),q=t("input"),P=u(),ia&&ia.c(),G=u(),W=t("div"),x=t("button"),R=l(ra),F=u(),ta&&ta.c(),H=u(),la&&la.c(),C=u(),j=t("button"),J=l("GitHub"),Y=u(),$=t("button"),z=l("Google"),K=u(),Q=t("small"),X=l(ea),Z=u(),aa=t("span"),sa=l(ca),this.h()},l:function(a){s=d(a,"DIV",{class:!0,style:!0},!1);var t=h(s);n=d(t,"DIV",{class:!0},!1);var l=h(n);o=d(l,"H5",{class:!0},!1);var u=h(o);r=f(u,oa),u.forEach(p),l.forEach(p),e=f(t,"\n  "),c=d(t,"DIV",{class:!0},!1);var m=h(c);i=d(m,"FORM",{},!1);var g=h(i);S=d(g,"DIV",{class:!0},!1);var v=h(S);T=d(v,"LABEL",{for:!0},!1);var E=h(T);I=f(E,"E-mail address"),E.forEach(p),L=f(v,"\n        "),U=d(v,"INPUT",{id:!0,type:!0,class:!0,required:!0},!1),h(U).forEach(p),v.forEach(p),D=f(g,"\n      "),V=d(g,"DIV",{class:!0},!1);var w=h(V);A=d(w,"LABEL",{for:!0},!1);var M=h(A);B=f(M,"Password"),M.forEach(p),O=f(w,"\n        "),q=d(w,"INPUT",{id:!0,type:!0,class:!0,required:!0},!1),h(q).forEach(p),w.forEach(p),P=f(g,"\n      "),ia&&ia.l(g),G=f(g,"\n      "),W=d(g,"DIV",{class:!0},!1);var b=h(W);x=d(b,"BUTTON",{type:!0,class:!0},!1);var N=h(x);R=f(N,ra),N.forEach(p),b.forEach(p),F=f(g,"\n      "),ta&&ta.l(g),H=f(g,"\n      "),la&&la.l(g),C=f(g,"\n      "),j=d(g,"BUTTON",{class:!0},!1);var y=h(j);J=f(y,"GitHub"),y.forEach(p),Y=f(g,"\n      "),$=d(g,"BUTTON",{class:!0},!1);var _=h($);z=f(_,"Google"),_.forEach(p),K=f(g,"\n      "),Q=d(g,"SMALL",{class:!0},!1);var k=h(Q);X=f(k,ea),Z=f(k,"\n        "),aa=d(k,"SPAN",{class:!0},!1);var na=h(aa);sa=f(na,ca),na.forEach(p),k.forEach(p),g.forEach(p),m.forEach(p),t.forEach(p),this.h()},h:function(){o.className="mb-0",n.className="card-header",T.htmlFor="email",U.id="email",m(U,"type","email"),U.className="form-control",U.required=!0,S.className="form-group",A.htmlFor="password",q.id="password",m(q,"type","password"),q.className="form-control",q.required=!0,V.className="form-group",x.type="button",x.className="btn btn-primary",W.className="form-group",j.className="btn btn-secondary w-100",$.className="btn btn-secondary w-100 mt-1",aa.className="btn btn-link pl-0",Q.className="text-muted",c.className="card-body",s.className="card border-light mx-auto",M(s,"max-width","25rem"),na=[g(U,"input",a.input0_input_handler),g(q,"input",a.input1_input_handler),g(x,"click",a.loginMode?a.loginWithEmail:a.signUpWithEmail),g(aa,"click",a.changeMode)]},m:function(t,l){v(t,s,l),E(s,n),E(n,o),E(o,r),E(s,e),E(s,c),E(c,i),E(i,S),E(S,T),E(T,I),E(S,L),E(S,U),U.value=a.email,E(i,D),E(i,V),E(V,A),E(A,B),E(V,O),E(V,q),q.value=a.password,E(i,P),ia&&ia.m(i,null),E(i,G),E(i,W),E(W,x),E(x,R),E(i,F),ta&&ta.m(i,null),E(i,H),la&&la.m(i,null),E(i,C),E(i,j),E(j,J),E(i,Y),E(i,$),E($,z),E(i,K),E(i,Q),E(Q,X),E(Q,Z),E(Q,aa),E(aa,sa)},p:function(a,s){a.loginMode&&oa!==(oa=s.loginMode?"Login to your account":"Create an account")&&w(r,oa),a.email&&(U.value=s.email),a.password&&(q.value=s.password),s.loginMode?ia&&(ia.d(1),ia=null):ia?ia.p(a,s):((ia=y(s)).c(),ia.m(i,G)),a.loginMode&&ra!==(ra=s.loginMode?"Login":"Sign Up")&&w(R,ra),s.showError?ta?ta.p(a,s):((ta=_(s)).c(),ta.m(i,H)):ta&&(ta.d(1),ta=null),s.showSuccess?la?la.p(a,s):((la=k(s)).c(),la.m(i,C)):la&&(la.d(1),la=null),a.loginMode&&ea!==(ea=s.loginMode?"Don't have an account?":"Already have an account?")&&w(X,ea),a.loginMode&&ca!==(ca=s.loginMode?"Sign up":"Login")&&w(sa,ca)},i:b,o:b,d:function(a){a&&p(s),ia&&ia.d(),ta&&ta.d(),la&&la.d(),N(na)}}}function T(a,s,n){var o="",r="",e="",c=!1,i="",t=!1,l="",u=function(a){n("showError",c=!0),n("errorMessage",i=a)},d=s.loginMode;return a.$set=function(a){"loginMode"in a&&n("loginMode",d=a.loginMode)},{email:o,password:r,password2:e,showError:c,errorMessage:i,showSuccess:t,successMessage:l,changeMode:function(){var a=d=!d;return n("loginMode",d),a},signUpWithEmail:function(){authentication.createUserWithEmailAndPassword(o,r).then(function(){authentication.currentUser.sendEmailVerification({url:"https://open-writing.firebaseapp.com/auth/login",handleCodeInApp:!1}).then(function(){n("email",o=""),n("password",r=""),n("password2",e=""),n("showSuccess",t=!0),n("successMessage",l="We have sent a confirmation email")}).catch(function(a){n("showError",c=!0),n("errorMessage",i="Error sending email verification")})}).catch(function(a){switch(a.code){case"auth/email-already-in-use":u("Email already exists");break;case"auth/invalid-email":u("Not a valid email address");break;case"auth/weak-password":u("Your password is too weak.");break;default:u("Something went wrong")}})},loginWithEmail:function(){console.log("login in")},loginMode:d,input0_input_handler:function(){o=this.value,n("email",o)},input1_input_handler:function(){r=this.value,n("password",r)},input_input_handler:function(){e=this.value,n("password2",e)},click_handler:function(){var a=c=!1;return n("showError",c),a},click_handler_1:function(){var a=t=!1;return n("showSuccess",t),a}}}var I=function(t){function l(a){var i;return s(this,l),i=n(this,o(l).call(this)),r(e(i),a,T,S,c,["loginMode"]),i}return a(l,i),l}();export{I as a};
//# sourceMappingURL=chunk.eb6c087f.js.map
